@model List<Playlist.Zone.Dto.Music.Playlist.AbstractPlaylistDto>
@{
    Layout = null;
}


<div style="float:left; width:100%;">
    
    <div style="float:left; width:100%; height:30px; line-height:30px; background-color:#dedede; font-weight:bold;">
        Popular Playlists
    </div>

    @foreach(var item in Model)
    {
<div class="plst-Item" data-plstid="@item.Id" data-userid="@item.UserId">
    <div style="float:left; width:80%;">@item.Name</div>
    <div style="float:left; width:10%;">V: @item.ViewNum</div>
    <div style="float:left; width:10%;">L: @item.LikeNum</div>
</div>
    }
</div>




<script>
    
    $(document).ready(function () {


        $(".plst-Item").off("mouseover", "**");
        $(".plst-Item").off("mouseout", "**");
        $(".plst-Item").off("click", "**");


        $(".plst-Item").on("mouseover", function () {

            if ($(this).hasClass("selected") == "plstSelected")
                return;

            $(this).css("background-color", "#dedede");
            $(this).children(".plst-DelPlst").css("background-color", "#cdcdcd");
        });


        $(".plst-Item").on("mouseout", function () {

            $(this).css("background-color", "");

            $(this).children(".plst-DelPlst").each(function () {
                if ($(this).hasClass("selected") != "plstSelected")
                    $(this).css("background-color", "#dedede")
            });

        });



        $(".plst-Item").on("click", function () {

            $(".plst-Item").removeClass("plstSelected");


            var plst_id = $(this).attr("data-plstid");
            var user_id = $(this).attr("data-userid");

            
            PreloaderOn("#SongsCH1");
            $.get("/Playlists/LoadPlaylistDetails/" + plst_id + "/" + user_id, function (playlistData) {
                $("#SongsCH1").html("");
                $("#SongsCH1").html(playlistData);
            });


            $(this).addClass("plstSelected");
        });
        

    });

</script>







